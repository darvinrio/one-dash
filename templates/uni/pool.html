{% extends 'base.html' %}

{% block head %}
<title>{{param_dict.pool_name}}</title>
<style>
    .bk-tooltip {
        border: 0px !important;
        width: 150px !important;
    }
</style>
{% endblock %}

{#

0 GROSS_RESERVES_TOKEN0_ADJUSTED -
1 GROSS_RESERVES_TOKEN1_ADJUSTED -
2 PRICE01 -
3 PRICE10 -
4 SWAP_COUNT -
5 SWAP_VOL -
6 TOKEN0_IN
7 TOKEN0_OUT
8 TOKEN1_IN
9 TOKEN1_OUT
10 TVL_USD -

#}

{% block body %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<link href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css'
    rel='stylesheet' type='text/css'>
<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js'
    type='text/javascript'></script>

<div class="container">
    <div class="row align-items-end">
        <div class="col">Pick your date</div>
        <div class="col">
            <div class="form-outline">
                <form action="/uni_pool/{{pool_address}}" method="POST">
                    <div class="input-group input-daterange">

                        <input type="text" class="form-control" value="{{start_date}}"  name="start_date" id="start_date">
                        <div class="input-group-addon">to</div>
                        <input type="text" class="form-control" value="{{end_date}}" style='width: 100px;' name="end_date"
                            id="end_date">
                        <button class="btn btn-light" type="submit" value="set">Set</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<div class="p-5">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col">
                    <h1 class="display-5">
                        {{param_dict.pool_name}}
                    </h1>
                    {{pool_address}}
                </div>
                <div class="col-2 d-flex align-items-center justify-content-center">
                    <img src="{{url_for('static',filename=param_dict.token1_icon)}}" width="100">
                    <img src="{{url_for('static',filename=param_dict.token0_icon)}}" width="100">
                </div>
                <div id="24hr_stats" class="col">
                    <div class="row">
                        <div class="col">
                            <div class="card text-center">
                                <div class="card-header">
                                    Total Value Locked
                                </div>
                                <div class="card-body">
                                    <h4>
                                        {{param_list[10].div|safe}}
                                    </h4>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card text-center">
                                <div class="card-header">
                                    Swap Volume
                                </div>
                                <div class="card-body">
                                    <h4>
                                        {{param_list[5].div|safe}}
                                    </h4>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card text-center">
                                <div class="card-header">
                                    Swaps made
                                </div>
                                <div class="card-body">
                                    <h4>
                                        {{param_list[4].div|safe}}
                                    </h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="p-5">
    <div class="row">
        <div class="col">
            <div id="TVL_USD" class="card">
                <div class="card-header">
                    Total Value Locked
                </div>
                <div class="card-body">
                    {{param_list[10].plot|safe}}
                </div>
            </div>
        </div>
        <div class="col">
            <div id="TVL_USD" class="card">
                <div class="card-header">
                    Swap Volume
                </div>
                <div class="card-body">
                    {{param_list[5].plot|safe}}
                </div>
            </div>
        </div>
        <div class="col">
            <div id="TVL_USD" class="card">
                <div class="card-header">
                    Swaps Made
                </div>
                <div class="card-body">
                    {{param_list[4].plot|safe}}
                </div>
            </div>
        </div>
    </div>

</div>

<div class="p-5">
    <div class="row">
        <div class="col">
            <div class="card-group">
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token0_color}};">
                        {{param_dict.token0}} Reserves
                    </div>
                    <div class="card-body">
                        {{param_list[0].plot|safe}}
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token1_color}};">
                        {{param_dict.token1}} Reserves
                    </div>
                    <div class="card-body">
                        {{param_list[1].plot|safe}}
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card-group">
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token0_color}};">
                        1 {{param_dict.token1}} to {{param_dict.token0}}
                    </div>
                    <div class="card-body">
                        {{param_list[2].plot|safe}}
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token1_color}};">
                        1 {{param_dict.token0}} to {{param_dict.token1}}
                    </div>
                    <div class="card-body">
                        {{param_list[3].plot|safe}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="p-5">
    <div class="row">
        <div class="col">
            <div class="card-group">
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token0_color}};">
                        {{param_dict.token0}} swapped in
                    </div>
                    <div class="card-body">
                        {{param_list[6].plot|safe}}
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token0_color}};">
                        {{param_dict.token0}} swapped out
                    </div>
                    <div class="card-body">
                        {{param_list[7].plot|safe}}
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card-group">
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token1_color}}; ">
                        {{param_dict.token1}} swapped in
                    </div>
                    <div class="card-body">
                        {{param_list[8].plot|safe}}
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" style="color: white; background-color: {{param_dict.token1_color}};">
                        {{param_dict.token1}} swapped out
                    </div>
                    <div class="card-body">
                        {{param_list[9].plot|safe}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="p-5">
    <div class="card">
        <div class="card-header">
            LP positioning
        </div>
        <div class="card-content">
            {{lp_range_div|safe}}
        </div>
    </div>
</div>

{% for func in param_list%}
{{func.script|safe}}
{% endfor %}
{{lp_range_script|safe}}


<script type="text/javascript">
    $(' .input-daterange').datepicker({
        format: "dd M, yyyy",
        startDate: "05 May, 2021",
        endDate: "today",
        todayBtn: true,
        clearBtn: true,
        autoclose: true
    });
</script>

{% endblock %}